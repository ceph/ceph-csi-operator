---
title: Ceph-CSI Driver Helm Chart
---
<!---
Document is generated by `make generate-helm-docs`. DO NOT EDIT.
Edit the corresponding *.gotmpl.md file instead
-->

Creates ceph-csi-operator resources to configure a [ceph-csi](https://github.com/ceph/ceph-csi) drivers using the [Helm](https://helm.sh) package manager.
This chart is a simple packaging of templates that will optionally create ceph-csi-operator resources such as:

* Driver CRs (RBD,cephFS,NFS)
* CephConnection that contains the ceph details
* ClientProfile for the RBD/CephFS/NFS clusterID and corresponding configurations
* ClientProfileMapping for disaster recovery

## Prerequisites

* Kubernetes 1.32+
* Helm 3.x

See the [Helm support matrix](https://helm.sh/docs/topics/version_skew/) for more details.

## Installing

The Ceph-CSI Drivers helm chart will install the basic components necessary to install [ceph-csi](https://github.com/ceph/ceph-csi) on Kubernetes cluster.

1. Install the Helm chart

The `helm install` command deploys ceph-csi-drivers on the Kubernetes cluster in the default configuration. The [configuration](#configuration) section lists the parameters that can be configured during installation.

ceph-csi-drivers currently publishes artifacts of the ceph-csi drivers to tagged versions.

### **Released version**

```console
helm repo add ceph-csi-operator https://ceph.github.io/ceph-csi-operator-charts
helm install ceph-csi-drivers --create-namespace --namespace ceph-csi-driver ceph-csi-operator/ceph-csi-drivers
```

For example settings, see the next section or [values.yaml](https://github.com/ceph/ceph-csi-operator/tree/main/deploy/charts/ceph-csi-drivers/values.yaml)

## Configuration

The following table lists the configurable parameters of the ceph-csi-drivers chart and their default values.

| Parameter | Description | Default |
|-----------|-------------|---------|
| `cephConnections[0].crushLocationLabels` |  | `{}` |
| `cephConnections[0].monitors` |  | `{}` |
| `cephConnections[0].name` |  | `""` |
| `cephConnections[0].rbdMirrorDaemonCount` |  | `1` |
| `clientProfiles[0].cephConnection.name` |  | `""` |
| `clientProfiles[0].cephFs.fuseMountOptions` |  | `{}` |
| `clientProfiles[0].cephFs.kernelMountOptions` |  | `{}` |
| `clientProfiles[0].cephFs.subVolumeGroup` |  | `""` |
| `clientProfiles[0].name` |  | `""` |
| `clientProfiles[0].rbd.radosNamespace` |  | `""` |
| `drivers.cephfs.attachRequired` |  | `true` |
| `drivers.cephfs.cephFsClientType` |  | `"kernel"` |
| `drivers.cephfs.clusterName` |  | `""` |
| `drivers.cephfs.controllerPlugin.deploymentStrategy` |  | `{}` |
| `drivers.cephfs.controllerPlugin.hostNetwork` |  | `false` |
| `drivers.cephfs.controllerPlugin.privileged` |  | `false` |
| `drivers.cephfs.controllerPlugin.replicas` |  | `1` |
| `drivers.cephfs.controllerPlugin.resources` |  | `{}` |
| `drivers.cephfs.controllerPlugin.tolerations` |  | `[]` |
| `drivers.cephfs.deployCsiAddons` |  | `false` |
| `drivers.cephfs.enableMetadata` |  | `false` |
| `drivers.cephfs.enabled` |  | `true` |
| `drivers.cephfs.encryption.configMapRef.name` |  | `""` |
| `drivers.cephfs.fsGroupPolicy` |  | `"None"` |
| `drivers.cephfs.fuseMountOptions` |  | `{}` |
| `drivers.cephfs.generateOMapInfo` |  | `false` |
| `drivers.cephfs.grpcTimeout` |  | `30` |
| `drivers.cephfs.imageSet.name` |  | `""` |
| `drivers.cephfs.kernelMountOptions` |  | `{}` |
| `drivers.cephfs.log.rotation.logHostPath` |  | `""` |
| `drivers.cephfs.log.rotation.maxFiles` |  | `7` |
| `drivers.cephfs.log.rotation.maxLogSize` |  | `"10Gi"` |
| `drivers.cephfs.log.rotation.periodicity` |  | `"daily"` |
| `drivers.cephfs.log.verbosity` |  | `0` |
| `drivers.cephfs.name` |  | `"cephfs.csi.ceph.com"` |
| `drivers.cephfs.nodePlugin.affinity` |  | `{}` |
| `drivers.cephfs.nodePlugin.annotations` |  | `{}` |
| `drivers.cephfs.nodePlugin.imagePullPolicy` |  | `"IfNotPresent"` |
| `drivers.cephfs.nodePlugin.labels` |  | `{}` |
| `drivers.cephfs.nodePlugin.priorityClassName` |  | `""` |
| `drivers.cephfs.nodePlugin.tolerations` |  | `[]` |
| `drivers.cephfs.nodePlugin.volumes` |  | `[]` |
| `drivers.cephfs.snapshotPolicy` |  | `"volumeSnapshot"` |
| `drivers.nfs.attachRequired` |  | `true` |
| `drivers.nfs.cephFsClientType` |  | `"kernel"` |
| `drivers.nfs.clusterName` |  | `""` |
| `drivers.nfs.controllerPlugin.deploymentStrategy` |  | `{}` |
| `drivers.nfs.controllerPlugin.hostNetwork` |  | `false` |
| `drivers.nfs.controllerPlugin.privileged` |  | `false` |
| `drivers.nfs.controllerPlugin.replicas` |  | `1` |
| `drivers.nfs.controllerPlugin.resources` |  | `{}` |
| `drivers.nfs.controllerPlugin.tolerations` |  | `[]` |
| `drivers.nfs.deployCsiAddons` |  | `false` |
| `drivers.nfs.enableMetadata` |  | `false` |
| `drivers.nfs.enabled` |  | `true` |
| `drivers.nfs.encryption.configMapRef.name` |  | `""` |
| `drivers.nfs.fsGroupPolicy` |  | `"None"` |
| `drivers.nfs.fuseMountOptions` |  | `{}` |
| `drivers.nfs.generateOMapInfo` |  | `false` |
| `drivers.nfs.grpcTimeout` |  | `30` |
| `drivers.nfs.imageSet.name` |  | `""` |
| `drivers.nfs.kernelMountOptions` |  | `{}` |
| `drivers.nfs.log.rotation.logHostPath` |  | `""` |
| `drivers.nfs.log.rotation.maxFiles` |  | `7` |
| `drivers.nfs.log.rotation.maxLogSize` |  | `"10Gi"` |
| `drivers.nfs.log.rotation.periodicity` |  | `"daily"` |
| `drivers.nfs.log.verbosity` |  | `0` |
| `drivers.nfs.name` |  | `"nfs.csi.ceph.com"` |
| `drivers.nfs.nodePlugin.affinity` |  | `{}` |
| `drivers.nfs.nodePlugin.annotations` |  | `{}` |
| `drivers.nfs.nodePlugin.imagePullPolicy` |  | `"IfNotPresent"` |
| `drivers.nfs.nodePlugin.labels` |  | `{}` |
| `drivers.nfs.nodePlugin.priorityClassName` |  | `""` |
| `drivers.nfs.nodePlugin.serviceAccountName` |  | `""` |
| `drivers.nfs.nodePlugin.tolerations` |  | `[]` |
| `drivers.nfs.nodePlugin.volumes` |  | `[]` |
| `drivers.nfs.snapshotPolicy` |  | `"volumeSnapshot"` |
| `drivers.rbd.attachRequired` |  | `true` |
| `drivers.rbd.cephFsClientType` |  | `"kernel"` |
| `drivers.rbd.clusterName` |  | `""` |
| `drivers.rbd.controllerPlugin.deploymentStrategy` |  | `{}` |
| `drivers.rbd.controllerPlugin.hostNetwork` |  | `false` |
| `drivers.rbd.controllerPlugin.privileged` |  | `false` |
| `drivers.rbd.controllerPlugin.replicas` |  | `1` |
| `drivers.rbd.controllerPlugin.resources` |  | `{}` |
| `drivers.rbd.controllerPlugin.tolerations` |  | `[]` |
| `drivers.rbd.deployCsiAddons` |  | `false` |
| `drivers.rbd.enableMetadata` |  | `false` |
| `drivers.rbd.enabled` |  | `true` |
| `drivers.rbd.encryption.configMapRef.name` |  | `""` |
| `drivers.rbd.fsGroupPolicy` |  | `"File"` |
| `drivers.rbd.fuseMountOptions` |  | `{}` |
| `drivers.rbd.generateOMapInfo` |  | `false` |
| `drivers.rbd.grpcTimeout` |  | `30` |
| `drivers.rbd.imageSet.name` |  | `""` |
| `drivers.rbd.kernelMountOptions` |  | `{}` |
| `drivers.rbd.log.rotation.logHostPath` |  | `""` |
| `drivers.rbd.log.rotation.maxFiles` |  | `7` |
| `drivers.rbd.log.rotation.maxLogSize` |  | `"10Gi"` |
| `drivers.rbd.log.rotation.periodicity` |  | `"daily"` |
| `drivers.rbd.log.verbosity` |  | `0` |
| `drivers.rbd.name` |  | `"rbd.csi.ceph.com"` |
| `drivers.rbd.nodePlugin.affinity` |  | `{}` |
| `drivers.rbd.nodePlugin.annotations` |  | `{}` |
| `drivers.rbd.nodePlugin.imagePullPolicy` |  | `"IfNotPresent"` |
| `drivers.rbd.nodePlugin.labels` |  | `{}` |
| `drivers.rbd.nodePlugin.priorityClassName` |  | `""` |
| `drivers.rbd.nodePlugin.tolerations` |  | `[]` |
| `drivers.rbd.nodePlugin.volumes` |  | `[]` |
| `drivers.rbd.snapshotPolicy` |  | `"none"` |
| `operatorConfig.create` |  | `true` |
| `operatorConfig.driverSpecDefaults.attachRequired` |  | `true` |
| `operatorConfig.driverSpecDefaults.cephFsClientType` |  | `"kernel"` |
| `operatorConfig.driverSpecDefaults.clusterName` |  | `""` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.deploymentStrategy` |  | `{}` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.hostNetwork` |  | `false` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.privileged` |  | `false` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.replicas` |  | `1` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.resources` |  | `{}` |
| `operatorConfig.driverSpecDefaults.controllerPlugin.tolerations` |  | `[]` |
| `operatorConfig.driverSpecDefaults.deployCsiAddons` |  | `false` |
| `operatorConfig.driverSpecDefaults.enableMetadata` |  | `false` |
| `operatorConfig.driverSpecDefaults.encryption.configMapRef.name` |  | `""` |
| `operatorConfig.driverSpecDefaults.fsGroupPolicy` |  | `"File"` |
| `operatorConfig.driverSpecDefaults.fuseMountOptions` |  | `{}` |
| `operatorConfig.driverSpecDefaults.generateOMapInfo` |  | `false` |
| `operatorConfig.driverSpecDefaults.grpcTimeout` |  | `30` |
| `operatorConfig.driverSpecDefaults.imageSet.name` |  | `""` |
| `operatorConfig.driverSpecDefaults.kernelMountOptions` |  | `{}` |
| `operatorConfig.driverSpecDefaults.log.rotation.logHostPath` |  | `""` |
| `operatorConfig.driverSpecDefaults.log.rotation.maxFiles` |  | `7` |
| `operatorConfig.driverSpecDefaults.log.rotation.maxLogSize` |  | `"10Gi"` |
| `operatorConfig.driverSpecDefaults.log.rotation.periodicity` |  | `"daily"` |
| `operatorConfig.driverSpecDefaults.log.verbosity` |  | `0` |
| `operatorConfig.driverSpecDefaults.nodePlugin.affinity` |  | `{}` |
| `operatorConfig.driverSpecDefaults.nodePlugin.annotations` |  | `{}` |
| `operatorConfig.driverSpecDefaults.nodePlugin.imagePullPolicy` |  | `"IfNotPresent"` |
| `operatorConfig.driverSpecDefaults.nodePlugin.labels` |  | `{}` |
| `operatorConfig.driverSpecDefaults.nodePlugin.priorityClassName` |  | `""` |
| `operatorConfig.driverSpecDefaults.nodePlugin.tolerations` |  | `[]` |
| `operatorConfig.driverSpecDefaults.nodePlugin.volumes` |  | `[]` |
| `operatorConfig.driverSpecDefaults.snapshotPolicy` |  | `"none"` |
| `operatorConfig.name` |  | `"ceph-csi-operator-config"` |
| `operatorConfig.namespace` |  | `""` |

### **Development Build**

To deploy from a local build from your development environment:

1. Install the helm chart:

```console
cd deploy/charts/ceph-csi-drivers
helm install ceph-csi-drivers --create-namespace --namespace ceph-csi-driver .
```

## Uninstalling the Chart

To see the currently installed ceph-csi-drivers chart:

```console
helm ls --namespace ceph-csi-driver
```

To uninstall/delete the `ceph-csi-drivers` deployment:

```console
helm delete --namespace ceph-csi-driver ceph-csi-drivers
```

The command removes all the Kubernetes components associated with the chart and deletes the release.
